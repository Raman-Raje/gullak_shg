"use strict";(self.webpackChunkgullak_shg=self.webpackChunkgullak_shg||[]).push([[918],{72285:(e,n,a)=>{a.d(n,{A:()=>y});var t,i,r,l,o,s,d=a(57528),u=a(72119),c=a(25869);u.Ay.div(t||(t=(0,d.A)(["\n  padding: 20px;\n  background-color: ",";\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n"])),c.Tj.lightGrey);const m=u.Ay.ul(i||(i=(0,d.A)(["\n  list-style: none;\n  padding: 0;\n  margin: 20px 0;\n"]))),x=u.Ay.li(r||(r=(0,d.A)(["\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n  border-bottom: 1px solid #ddd;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  svg {\n    margin-right: 10px;\n    color: ",";\n  }\n"])),c.Tj.primary),h=u.Ay.div(l||(l=(0,d.A)(["\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  &:hover {\n    white-space: normal;\n    overflow: visible;\n  }\n"]))),p=u.Ay.h3(o||(o=(0,d.A)(["\n  margin-top: 20px;\n  font-size: ",";\n  color: ",";\n  border-bottom: 2px solid ",";\n  padding-bottom: 5px;\n\n  "," {\n    font-size: ",";\n  }\n\n  "," {\n    font-size: ",";\n  }\n"])),c.yM[20],c.Tj.primary,c.Tj.primary,c.fi.tablet,c.yM[24],c.fi.laptop,c.yM[28]);u.Ay.div(s||(s=(0,d.A)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n"])));var b=a(70579);const y=e=>{let{basicDetails:n,contributionDetails:a,bankDetails:t,loanDetails:i}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{children:"Basic Details"}),(0,b.jsxs)(m,{children:[(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Name: ",n.group_name]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Address: ",n.address]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Phone: ",n.phone_number]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Email: ",n.email]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Max Members: ",n.max_members]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Registered: ",n.is_registered?"Yes":"No"]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Registration Number: ",n.registration_number]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Registration Date: ",n.registration_date]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Lock-in Period: ",n.lock_in_period]})})]}),(0,b.jsx)(p,{children:"Contribution Details"}),(0,b.jsxs)(m,{children:[(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Joining Fee: ",a.joining_fee]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Meeting Frequency: ",a.meeting_frequency]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Contribution Frequency: ",a.contribution_frequency]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Contribution Amount: ",a.contribution_amount]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Contribution Day: ",a.contribution_day]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Contribution Penalty: ",a.contribution_penalty]})})]}),(0,b.jsx)(p,{children:"Bank Details"}),(0,b.jsxs)(m,{children:[(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Bank Name: ",t.bank_name]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Bank Branch: ",t.bank_branch_name]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Account Number: ",t.bank_account_number]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["IFSC Code: ",t.bank_ifsc_code]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Account Holder: ",t.bank_account_holder]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Account Type: ",t.bank_account_type]})})]}),(0,b.jsx)(p,{children:"Loan Details"}),(0,b.jsxs)(m,{children:[(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Max Loan Limit: ",i.max_loan_amount]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Interest Rate: ",i.loan_interest_rate]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Max Loan Duration: ",i.max_loan_duration]})}),(0,b.jsx)(x,{children:(0,b.jsxs)(h,{children:["Installment Penalty: ",i.installment_penalty]})})]})]})}},87460:(e,n,a)=>{a.d(n,{Hk:()=>o,VX:()=>l,_Z:()=>t,a4:()=>s,f2:()=>i,oW:()=>r});const t=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}],i=[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}],r=[{value:"savings",label:"Savings"},{value:"current",label:"Current"},{value:"joint",label:"Joint"}],l=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],o=[{value:"all",label:"All"},{value:"approved",label:"Approved"},{value:"pending",label:"Pending"}],s=[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"upi",label:"UPI"},{value:"other",label:"Other"}]},64265:(e,n,a)=>{a.d(n,{eB:()=>h,eo:()=>b,kO:()=>p});var t,i,r,l,o,s,d=a(57528),u=a(72119),c=a(74068),m=a.n(c),x=a(25869);u.Ay.div(t||(t=(0,d.A)(["\n  margin-bottom: 16px;\n  ","\n  gap: 10px;\n\n  .divider {\n    height: 1px;\n    background-color: ",";\n  }\n\n   "," {\n    flex-direction: row;\n    gap: 20px;\n\n    .divider {\n      height: auto;\n      width: 1px;\n    }\n  }\n"])),x.Uu.col,m()("theme",{light:"#A2C0D4",dark:x.Tj.dark}),x.fi.tablet);const h=u.Ay.div(i||(i=(0,d.A)(["\n  ","\n  gap: 6px;\n  width: 100%;\n  \n"])),x.Uu.col),p=(u.Ay.div(r||(r=(0,d.A)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n\n  & > * {\n    width: 100%;\n  }\n\n  "," {\n    gap: 8px;\n\n    & > * {\n      width: 90%;\n    }\n  } \n"])),x.fi.mobileL),u.Ay.h3(l||(l=(0,d.A)(["\n  display: flex;\n  align-items: center;\n  margin: 10px 0px;\n  gap: 18px;\n"]))),u.Ay.div(o||(o=(0,d.A)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 10px;\n\n  & > *:only-child {\n    grid-column: span 2;\n  }\n"])))),b=u.Ay.div(s||(s=(0,d.A)(["\n  display: flex;\n  align-items: center;\n  text-align: center;\n  width: 100%;\n  margin: 10px 0;\n  &::before, &::after {\n    content: '';\n    flex: 1;\n    border-bottom: 2px dotted lightgray;\n  }\n  &:not(:empty)::before {\n    margin-right: 0.25em;\n  }\n  &:not(:empty)::after {\n    margin-left: 0.25em;\n  }\n"])))},5884:(e,n,a)=>{a.d(n,{A:()=>i});var t=a(65043);const i=(e,n)=>{const[a,i]=(0,t.useState)(0);return(0,t.useEffect)((()=>{if(null!==e&&null!==n){const a=e.current?e.current.clientHeight:0,t=n&&n.current?n.current.clientHeight:0;i(a+t)}}),[e,n]),a}},39335:(e,n,a)=>{a.d(n,{x2:()=>t});const t=/^\d{10}$/},4755:(e,n,a)=>{a.d(n,{A:()=>r});var t=a(80899),i=a(39335);const r=t.Ik().shape({group_name:t.Yj().min(1).max(255).required("required"),address:t.Yj().min(2).max(200).notRequired(),phone_number:t.Yj().matches(i.x2,"Invalid phone number").required("required"),email:t.Yj().email("Invalid email").lowercase().trim().notRequired(),max_members:t.ai().min(1).max(100).required("required"),is_registered:t.zM(),registration_number:t.Yj().notRequired(),registration_date:t.p6().notRequired(),lock_in_period:t.ai().min(0).notRequired()})},54761:(e,n,a)=>{a.d(n,{A:()=>l,S:()=>r});var t=a(80899);const i=t.Ik().shape({meeting_frequency:t.Yj().oneOf(["daily","weekly","monthly","quarterly","annually"],"Invalid meeting frequency").required("required"),joining_fee:t.ai().min(0).notRequired(),contribution_frequency:t.Yj().oneOf(["monthly","quarterly","annually"],"Invalid meeting frequency").required("required"),contribution_amount:t.ai().min(1).required("required"),contribution_day:t.ai().min(1).max(30).required("required"),contribution_penalty:t.ai().min(0).required("required")}),r=t.Ik().shape({meeting_frequency:t.Yj().oneOf(["daily","weekly","monthly","quarterly","annually"],"Invalid meeting frequency").notRequired(),joining_fee:t.ai().min(0).notRequired(),contribution_frequency:t.Yj().oneOf(["monthly","quarterly","annually"],"Invalid meeting frequency").notRequired(),contribution_day:t.ai().min(1).max(30).notRequired(),contribution_penalty:t.ai().min(0).notRequired()}),l=i},1273:(e,n,a)=>{a.d(n,{A:()=>i});var t=a(80899);const i=t.Ik().shape({max_loan_amount:t.ai().min(1).required("required"),loan_interest_rate:t.ai().required("required"),max_loan_duration:t.ai().required("required"),installment_penalty:t.ai().required("required")})},59918:(e,n,a)=>{a.d(n,{A:()=>H});var t=a(72119),i=a(25869);const r=t.Ay.div.withConfig({componentId:"sc-avptyp-0"})(["display:flex;align-items:center;gap:8px;justify-content:center;"]),l=t.Ay.p.withConfig({componentId:"sc-avptyp-1"})(["width:30px;height:30px;border-radius:50%;border:2px solid ",";background-color:",";color:",";flex-shrink:0;font-weight:600;display:flex;justify-content:center;align-items:center;transition:all 0.3s ease;margin:0;"],i.Tj.primary,(e=>e.active?i.Tj.primary:i.Tj.white),(e=>e.active?i.Tj.white:i.Tj.primary)),o=t.Ay.div.withConfig({componentId:"sc-avptyp-2"})(["height:2px;background-color:",";flex-grow:1;position:relative;"],i.Tj.gray_400),s=t.Ay.div.withConfig({componentId:"sc-avptyp-3"})(["position:absolute;top:0;left:0;height:100%;border-radius:8px;width:",";background-color:",";transition:width 0.5s ease;"],(e=>e.active?"100%":"0"),i.Tj.primary);t.Ay.div.withConfig({componentId:"sc-avptyp-4"})(["display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px;"]);var d,u=a(43778),c=a(58422),m=a(90385),x=a(57528);const h=t.Ay.div(d||(d=(0,x.A)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 10px;\n\n  & > *:only-child {\n    grid-column: span 2;\n  }\n"])));var p=a(97424),b=a(72285),y=a(70579);const j=e=>{let{basicDetails:n,contributionDetails:a,bankDetails:t,loanDetails:i,onNext:r,onBack:l}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b.A,{basicDetails:n,contributionDetails:a,bankDetails:t,loanDetails:i}),(0,y.jsxs)(h,{children:[(0,y.jsx)(p.A,{text:"Back",handler:l}),(0,y.jsx)(p.A,{text:"Create",handler:r})]})]})};var _=a(30342),g=a(15298),v=a(5884),f=a(62774),q=a(65043),k=a(73216),A=a(64265),B=a(63516),D=a(59897),w=a(4755);const C=e=>{let{initialValues:n,onNext:a,updateInitialValues:t}=e;return(0,y.jsx)(B.l1,{initialValues:n,validationSchema:w.A,onSubmit:async(e,n)=>{let{setSubmitting:i,setFieldError:r}=n;i(!0),console.log("values",e),t(e),i(!1),a()},children:e=>{let{values:n,setFieldValue:a}=e;return(0,y.jsx)(B.lV,{children:(0,y.jsxs)(A.eB,{children:[(0,y.jsx)(D.BY,{name:"group_name",type:"text",label:"SHG Name",required:!0,placeholder:"Name of the SHG"}),(0,y.jsx)(D.BY,{name:"phone_number",type:"text",label:"Phone",placeholder:"10 digit phone number",required:!0}),(0,y.jsx)(D.BY,{name:"email",type:"email",label:"Email",placeholder:"Email of the SHG"}),(0,y.jsx)(D.BY,{name:"address",label:"Address",asType:"textarea",placeholder:"Address of the SHG"}),(0,y.jsx)(D.BY,{name:"registration_numberr",type:"text",label:"Registration Number",placeholder:"Registration Number"}),(0,y.jsx)(D.PJ,{name:"registration_date",type:"date",label:"Registration Date",placeholder:"Registration Date",minDate:new Date("01/01/2000"),maxDate:new Date}),(0,y.jsx)(D.BY,{name:"max_members",type:"number",label:"Max Members",required:!0,placeholder:"Max Members"}),(0,y.jsx)(D.BY,{name:"lock_in_period",type:"number",label:"Lock in Period",placeholder:"Period in months"}),(0,y.jsx)(A.kO,{children:(0,y.jsx)(p.A,{text:"Next",type:"submit"})})]})})}})};var I=a(54761),Y=a(87460);const S=e=>{let{initialValues:n,onNext:a,onBack:t,updateInitialValues:i}=e;return(0,y.jsx)(B.l1,{initialValues:n,validationSchema:I.A,onSubmit:(e,n)=>{let{setSubmitting:t}=n;i(e),a(),t(!1)},children:e=>{let{values:n,setFieldValue:a}=e;return(0,y.jsx)(B.lV,{children:(0,y.jsxs)(A.eB,{children:[(0,y.jsx)(D.BY,{name:"joining_fee",type:"number",label:"Joining Fee",placeholder:"Joining Fee"}),(0,y.jsx)(D.L7,{name:"meeting_frequency",label:"Meeting Frequency",required:!0,options:Y._Z}),(0,y.jsx)(D.L7,{name:"contribution_frequency",label:"Contribution Frequency",required:!0,options:Y.f2}),(0,y.jsx)(D.BY,{name:"contribution_amount",type:"number",label:"Contribution Amount",required:!0,placeholder:"Contribution Amount"}),(0,y.jsx)(D.BY,{name:"contribution_day",type:"number",label:"Contribution Day",required:!0,placeholder:"Contribution Day"}),(0,y.jsx)(D.BY,{name:"contribution_penalty",type:"number",label:"Contribution Penalty",required:!0,placeholder:"Contribution Penalty"}),(0,y.jsxs)(A.kO,{children:[(0,y.jsx)(p.A,{text:"Back",handler:t}),(0,y.jsx)(p.A,{text:"Next",type:"submit"})]})]})})}})};var N=a(80899);const V=N.Ik().shape({bank_name:N.Yj().required("required"),bank_branch_name:N.Yj().notRequired(),bank_account_number:N.Yj().required("required"),bank_ifsc_code:N.Yj().required("required"),bank_account_holder:N.Yj().required("required"),bank_account_type:N.Yj().required("required")}),R=e=>{let{initialValues:n,onNext:a,onBack:t,updateInitialValues:i}=e;return(0,y.jsx)(B.l1,{initialValues:n,validationSchema:V,onSubmit:(e,n)=>{let{setSubmitting:t}=n;i(e),a(),t(!1)},children:e=>{let{values:n,setFieldValue:a,errors:i}=e;return(0,y.jsx)(B.lV,{children:(0,y.jsxs)(A.eB,{children:[(0,y.jsx)(D.BY,{name:"bank_name",type:"text",label:"Bank Name",required:!0,placeholder:"Bank Name"}),(0,y.jsx)(D.BY,{name:"bank_branch_name",type:"text",label:"Bank Branch",placeholder:"Bank Branch"}),(0,y.jsx)(D.BY,{name:"bank_account_number",type:"text",label:"Account Number",required:!0,placeholder:"Account Number"}),(0,y.jsx)(D.BY,{name:"bank_ifsc_code",type:"text",label:"IFSC Code",required:!0,placeholder:"IFSC Code"}),(0,y.jsx)(D.BY,{name:"bank_account_holder",type:"text",label:"Account Holder Name",required:!0,placeholder:"Account Holder Name"}),(0,y.jsx)(D.L7,{name:"bank_account_type",label:"Account Type",required:!0,options:Y.oW,placeholder:"Account Type"}),(0,y.jsxs)(A.kO,{children:[(0,y.jsx)(p.A,{text:"Back",handler:t}),(0,y.jsx)(p.A,{text:"Next",type:"submit"})]})]})})}})};var M=a(1273);const T=e=>{let{initialValues:n,onNext:a,onBack:t,updateInitialValues:i}=e;return(0,y.jsx)(B.l1,{initialValues:n,validationSchema:M.A,onSubmit:async(e,n)=>{let{setSubmitting:t,resetForm:r}=n;i(e),a(),t(!1),r()},children:e=>{let{values:n,setFieldValue:a,errors:i}=e;return(0,y.jsx)(B.lV,{children:(0,y.jsxs)(A.eB,{children:[(0,y.jsx)(D.BY,{name:"max_loan_amount",type:"number",label:"Max Loan Amount",required:!0,placeholder:"Loan Limit",helperText:"Maximum loan amount that can be given to a member"}),(0,y.jsx)(D.BY,{name:"loan_interest_rate",type:"number",label:"Loan Interest Rate",required:!0,placeholder:"Loan Interest Rate",helperText:"Interest rate in percentage"}),(0,y.jsx)(D.BY,{name:"max_loan_duration",type:"number",label:"Max Loan Duration",required:!0,placeholder:"Loan Duration",helperText:"Maximum duration for loan repayment"}),(0,y.jsx)(D.BY,{name:"installment_penalty",type:"number",label:"Installment Penalty",required:!0,placeholder:"Installment Penalty"}),(0,y.jsxs)(A.kO,{children:[(0,y.jsx)(p.A,{text:"Back",handler:t}),(0,y.jsx)(p.A,{text:"Next",type:"submit"})]})]})})}})};var F=a(28942);const L={0:"Basic Details",1:"Contribution Details",2:"Bank Details",3:"Loan Details",4:"Confirmation"},H=()=>{const e=(0,k.Zp)(),{user_id:n}=(0,_.A)(),{notify:a}=(0,g.A)("SHG has been successfully created.","success"),{notify:t}=(0,g.A)("Failed to create SHG","error"),[d,x]=(0,q.useState)(0),[h,p]=(0,q.useState)(!1),[b,A]=(0,q.useState)(""),B=(0,q.useRef)(null),D=(0,q.useRef)(null),[w,I]=((0,q.useRef)(null),(0,v.A)(B,D),(0,q.useState)({group_name:"",address:"",phone_number:"",email:"",max_members:"",is_registered:!1,registration_number:"",registration_date:null,lock_in_period:null})),[Y,N]=(0,q.useState)({joining_fee:0,meeting_frequency:"",contribution_frequency:"",contribution_amount:null,contribution_day:null,contribution_penalty:null}),[V,M]=(0,q.useState)({bank_name:"",bank_branch_name:"",bank_account_number:"",bank_ifsc_code:"",bank_account_holder:"",bank_account_type:""}),[H,P]=(0,q.useState)({max_loan_amount:null,loan_interest_rate:null,max_loan_duration:null,installment_penalty:null}),G=()=>x((e=>Math.max(e-1,0))),O=()=>x((e=>Math.min(e+1,5))),E=e=>{0===d?I(e):1===d?N(e):2===d?M(e):3===d&&P(e)},J=async()=>{p(!0);const i={...w,...Y,...V,...H,created_by:n,updated_by:n};console.log("SHG"),console.log(i),console.log(n);const{data:r,error:l}=await F.A.from("groups").insert([i]);l?(A(l.message),t()):a(),p(!1),e("/")};return(0,y.jsxs)(u.A,{name:"CreateGroup",children:[(0,y.jsxs)(c.A,{title:"Create SHG",flex:"column",style:{paddingBottom:18},elRef:B,children:[(0,y.jsx)("h3",{children:L[d]}),(0,y.jsx)(r,{children:(()=>{const e=[];for(let n=0;n<5;n++)e.push((0,y.jsxs)(q.Fragment,{children:[(0,y.jsx)(l,{style:{backgroundColor:d>n?i.Tj.primary:i.Tj.white,color:d>n?i.Tj.white:i.Tj.primary,transitionDuration:"500ms"},children:d>n?(0,y.jsx)(f.CMH,{}):n+1}),n<4&&(0,y.jsx)(o,{children:(0,y.jsx)(s,{style:{width:d>n?"100%":"0%",transitionDelay:"500ms",transitionDuration:"1s"}})})]},n));return e})()})]}),(0,y.jsx)(m.A,{children:(e=>{switch(e){case 0:return(0,y.jsx)(C,{initialValues:w,onNext:O,updateInitialValues:E});case 1:return(0,y.jsx)(S,{initialValues:Y,onNext:O,onBack:G,updateInitialValues:E});case 2:return(0,y.jsx)(R,{initialValues:V,onNext:O,onBack:G,updateInitialValues:E});case 3:return(0,y.jsx)(T,{initialValues:H,onNext:O,onBack:G,updateInitialValues:E});case 4:return(0,y.jsx)(j,{basicDetails:w,contributionDetails:Y,bankDetails:V,loanDetails:H,onNext:J,onBack:G})}})(d)})]})}}}]);
//# sourceMappingURL=918.8d2754b0.chunk.js.map