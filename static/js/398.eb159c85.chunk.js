"use strict";(self.webpackChunkgullak_shg=self.webpackChunkgullak_shg||[]).push([[398],{87460:(e,n,a)=>{a.d(n,{Hk:()=>o,VX:()=>i,_Z:()=>r,a4:()=>u,f2:()=>t,oW:()=>l});const r=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}],t=[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}],l=[{value:"savings",label:"Savings"},{value:"current",label:"Current"},{value:"joint",label:"Joint"}],i=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],o=[{value:"all",label:"All"},{value:"approved",label:"Approved"},{value:"pending",label:"Pending"}],u=[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"upi",label:"UPI"},{value:"other",label:"Other"}]},64265:(e,n,a)=>{a.d(n,{eB:()=>y,eo:()=>h,kO:()=>b});var r,t,l,i,o,u,d=a(57528),s=a(72119),m=a(74068),p=a.n(m),c=a(25869);s.Ay.div(r||(r=(0,d.A)(["\n  margin-bottom: 16px;\n  ","\n  gap: 10px;\n\n  .divider {\n    height: 1px;\n    background-color: ",";\n  }\n\n   "," {\n    flex-direction: row;\n    gap: 20px;\n\n    .divider {\n      height: auto;\n      width: 1px;\n    }\n  }\n"])),c.Uu.col,p()("theme",{light:"#A2C0D4",dark:c.Tj.dark}),c.fi.tablet);const y=s.Ay.div(t||(t=(0,d.A)(["\n  ","\n  gap: 6px;\n  width: 100%;\n  \n"])),c.Uu.col),b=(s.Ay.div(l||(l=(0,d.A)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n\n  & > * {\n    width: 100%;\n  }\n\n  "," {\n    gap: 8px;\n\n    & > * {\n      width: 90%;\n    }\n  } \n"])),c.fi.mobileL),s.Ay.h3(i||(i=(0,d.A)(["\n  display: flex;\n  align-items: center;\n  margin: 10px 0px;\n  gap: 18px;\n"]))),s.Ay.div(o||(o=(0,d.A)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 10px;\n\n  & > *:only-child {\n    grid-column: span 2;\n  }\n"])))),h=s.Ay.div(u||(u=(0,d.A)(["\n  display: flex;\n  align-items: center;\n  text-align: center;\n  width: 100%;\n  margin: 10px 0;\n  &::before, &::after {\n    content: '';\n    flex: 1;\n    border-bottom: 2px dotted lightgray;\n  }\n  &:not(:empty)::before {\n    margin-right: 0.25em;\n  }\n  &:not(:empty)::after {\n    margin-left: 0.25em;\n  }\n"])))},46398:(e,n,a)=>{a.r(n),a.d(n,{default:()=>w});var r=a(75977),t=a(65043),l=a(43778),i=a(58422),o=a(90385),u=a(35077),d=a(63516),s=a(59897),m=a(97424),p=a(64265),c=a(87460),y=a(15298),b=a(80899),h=a(4755),g=a(1273),x=a(54761);const q=b.Ik().shape({...h.A.fields,...g.A.fields,...x.S.fields});var _=a(28942),v=a(70579);const f=e=>{let{initialValues:n,group_id:a}=e;const{notify:r}=(0,y.A)("Your changes have been successfully saved.","success");return(0,v.jsx)(d.l1,{initialValues:n,validationSchema:q,onSubmit:async(e,n)=>{let{setSubmitting:t}=n;t(!0);const{data:l,error:i}=await _.A.from("groups").update({...e}).eq("group_id",a);if(i)throw console.log("error",i),i;t(!1),r()},children:e=>{let{values:n,setFieldValue:a,errors:r}=e;return(0,v.jsx)(d.lV,{children:(0,v.jsxs)(p.eB,{children:[(0,v.jsx)(p.eo,{children:"Basic"}),(0,v.jsx)(s.BY,{name:"group_name",type:"text",label:"SHG Name",required:!0,placeholder:"Name of the SHG"}),(0,v.jsx)(s.BY,{name:"phone_number",type:"text",label:"Phone Number",placeholder:"10 digit phone number",required:!0}),(0,v.jsx)(s.BY,{name:"email",type:"email",label:"Email",placeholder:"Email of the SHG"}),(0,v.jsx)(s.BY,{name:"address",label:"Address",asType:"textarea",placeholder:"Address of the SHG"}),(0,v.jsx)(s.BY,{name:"registration_numberr",type:"text",label:"Registration Number",placeholder:"Registration Number"}),(0,v.jsx)(s.PJ,{name:"registration_date",type:"date",label:"Registration Date",placeholder:"Registration Date",minDate:new Date("01/01/2000"),maxDate:new Date}),(0,v.jsx)(s.BY,{name:"max_members",type:"number",label:"Max Members",required:!0,placeholder:"Max Members"}),(0,v.jsx)(p.eo,{children:"Contribution"}),(0,v.jsx)(s.BY,{name:"joining_fee",type:"number",label:"Joining Fee",placeholder:"Joining Fee"}),(0,v.jsx)(s.L7,{name:"meeting_frequency",label:"Meeting Frequency",required:!0,options:c._Z}),(0,v.jsx)(s.BY,{name:"contribution_day",type:"number",label:"Contribution Day",required:!0,placeholder:"Contribution Day"}),(0,v.jsx)(s.BY,{name:"contribution_penalty",type:"number",label:"Contribution Penalty",required:!0,placeholder:"Contribution Penalty"}),(0,v.jsx)(p.eo,{children:"Loan"}),(0,v.jsx)(s.BY,{name:"max_loan_amount",type:"number",label:"Max Loan Amount",required:!0,placeholder:"Loan Limit",helperText:"Maximum loan amount that can be given to a member"}),(0,v.jsx)(s.BY,{name:"loan_interest_rate",type:"number",label:"Loan Interest Rate",required:!0,placeholder:"Loan Interest Rate",helperText:"Interest rate in percentage"}),(0,v.jsx)(s.BY,{name:"max_loan_duration",type:"number",label:"Max Loan Duration",required:!0,placeholder:"Loan Duration",helperText:"Maximum duration for loan repayment"}),(0,v.jsx)(s.BY,{name:"installment_penalty",type:"number",label:"Installment Penalty",required:!0,placeholder:"Installment Penalty"}),(0,v.jsx)(p.kO,{children:(0,v.jsx)(m.A,{text:"Update",type:"submit"})})]})})}})};var j=a(79456),A=a(79547),k=a(30342);const Y=()=>{const[e,n]=(0,t.useState)({}),[a,r]=(0,t.useState)(!0),d=(0,j.d4)(A.oe),{user_id:s}=(0,k.A)();return(0,t.useEffect)((()=>{(async()=>{try{const{data:e,error:a}=await _.A.rpc("fetch_update_group_info",{user_id_input:s,group_id_input:d.group_id});if(a)throw a;console.log("SHG settings:",e),n(e[0])}catch(e){console.error("Error fetching SHG settings:",e)}finally{r(!1)}})()}),[s,d.group_id]),(0,v.jsxs)(l.A,{name:"SHGSetting",children:[(0,v.jsx)(i.A,{title:"SHG Setting"}),(0,v.jsx)(o.A,{children:a||!e?(0,v.jsx)(u.A,{}):(0,v.jsx)(f,{initialValues:e,group_id:d.group_id})})]})},w=()=>(0,v.jsx)(r.A,{children:(0,v.jsx)("div",{children:(0,v.jsx)(Y,{})},"group_edit")})},39335:(e,n,a)=>{a.d(n,{x2:()=>r});const r=/^\d{10}$/},4755:(e,n,a)=>{a.d(n,{A:()=>l});var r=a(80899),t=a(39335);const l=r.Ik().shape({group_name:r.Yj().min(1).max(255).required("required"),address:r.Yj().min(2).max(200).notRequired(),phone_number:r.Yj().matches(t.x2,"Invalid phone number").required("required"),email:r.Yj().email("Invalid email").lowercase().trim().notRequired(),max_members:r.ai().min(1).max(100).required("required"),is_registered:r.zM(),registration_number:r.Yj().notRequired(),registration_date:r.p6().notRequired(),lock_in_period:r.ai().min(0).notRequired()})},54761:(e,n,a)=>{a.d(n,{A:()=>i,S:()=>l});var r=a(80899);const t=r.Ik().shape({meeting_frequency:r.Yj().oneOf(["daily","weekly","monthly","quarterly","annually"],"Invalid meeting frequency").required("required"),joining_fee:r.ai().min(0).notRequired(),contribution_frequency:r.Yj().oneOf(["monthly","quarterly","annually"],"Invalid meeting frequency").required("required"),contribution_amount:r.ai().min(1).required("required"),contribution_day:r.ai().min(1).max(30).required("required"),contribution_penalty:r.ai().min(0).required("required")}),l=r.Ik().shape({meeting_frequency:r.Yj().oneOf(["daily","weekly","monthly","quarterly","annually"],"Invalid meeting frequency").notRequired(),joining_fee:r.ai().min(0).notRequired(),contribution_frequency:r.Yj().oneOf(["monthly","quarterly","annually"],"Invalid meeting frequency").notRequired(),contribution_day:r.ai().min(1).max(30).notRequired(),contribution_penalty:r.ai().min(0).notRequired()}),i=t},1273:(e,n,a)=>{a.d(n,{A:()=>t});var r=a(80899);const t=r.Ik().shape({max_loan_amount:r.ai().min(1).required("required"),loan_interest_rate:r.ai().required("required"),max_loan_duration:r.ai().required("required"),installment_penalty:r.ai().required("required")})}}]);
//# sourceMappingURL=398.eb159c85.chunk.js.map